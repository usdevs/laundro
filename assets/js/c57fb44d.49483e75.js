"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[220],{8215:function(e,t,a){var n=a(7294);t.Z=function(e){var t=e.children,a=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:r},t)}},6396:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(7462),r=a(7294),o=a(2389),i=a(9443);var l=function(){var e=(0,r.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},s=a(9521),u=a(6010),h="tabItem_vU9c";function c(e){var t,a,n,o=e.lazy,i=e.block,c=e.defaultValue,d=e.values,m=e.groupId,p=e.className,f=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=d?d:f.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),b=(0,s.lx)(g,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var k=null===c?c:null!=(t=null!=c?c:null==(a=f.find((function(e){return e.props.default})))?void 0:a.props.value)?t:null==(n=f[0])?void 0:n.props.value;if(null!==k&&!g.some((function(e){return e.value===k})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=l(),v=w.tabGroupChoices,y=w.setTabGroupChoices,I=(0,r.useState)(k),T=I[0],C=I[1],N=[],S=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var D=v[m];null!=D&&D!==T&&g.some((function(e){return e.value===D}))&&C(D)}var x=function(e){var t=e.currentTarget,a=N.indexOf(t),n=g[a].value;n!==T&&(S(t),C(n),null!=m&&y(m,n))},E=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n=N.indexOf(e.currentTarget)+1;a=N[n]||N[0];break;case"ArrowLeft":var r=N.indexOf(e.currentTarget)-1;a=N[r]||N[N.length-1]}null==(t=a)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":i},p)},g.map((function(e){var t=e.value,a=e.label;return r.createElement("li",{role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,className:(0,u.Z)("tabs__item",h,{"tabs__item--active":T===t}),key:t,ref:function(e){return N.push(e)},onKeyDown:E,onFocus:x,onClick:x},null!=a?a:t)}))),o?(0,r.cloneElement)(f.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function d(e){var t=(0,o.Z)();return r.createElement(c,(0,n.Z)({key:String(t)},e))}},7331:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return u},contentTitle:function(){return h},metadata:function(){return c},assets:function(){return d},toc:function(){return m},default:function(){return f}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=a(6396),l=a(8215),s=["components"],u={authors:"yihong",tags:["feelsbad"],title:"What happens when RPI Imager crashes in the middle of flashing?"},h=void 0,c={permalink:"/laundro/blog/2021/12/04/rpi-imager-crash",editUrl:"https://github.com/usdevs/laundro/tree/docs/blog/2021-12-04-rpi-imager-crash.md",source:"@site/blog/2021-12-04-rpi-imager-crash.md",title:"What happens when RPI Imager crashes in the middle of flashing?",description:"My experience with the M1 Chip has been awesome, seeing how much more efficient the battery is and how much faster my builds are. But it is these rare (debatable) incompatiblity issues that sometimes I wish I have stucked with a PC.",date:"2021-12-04T00:00:00.000Z",formattedDate:"December 4, 2021",tags:[{label:"feelsbad",permalink:"/laundro/blog/tags/feelsbad"}],readingTime:2.465,truncated:!0,authors:[{name:"yihong",title:"Contributor",url:"https://github.com/shenyih0ng",imageURL:"https://github.com/shenyih0ng.png",key:"yihong"}]},d={authorsImageUrls:[void 0]},m=[],p={toc:m};function f(e){var t=e.components,a=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"My experience with the M1 Chip has been awesome, seeing how much more efficient the battery is and how much faster my builds are. But it is these rare (debatable) incompatiblity issues that sometimes I wish I have stucked with a PC."),(0,o.kt)("p",null,"I was flashing a SD card with a RPI OS image on my mac when the imager reported a ",(0,o.kt)("em",{parentName:"p"},"write error")," without any error code or additional hints. What followed immediately was that my SD card became ",(0,o.kt)("strong",{parentName:"p"},"uninitialized"),". This meant that my SD was no longer readable and the file system/partitions (in fact everything) was gone. At this point I thought it was a freak event, so I went to reformat it."),(0,o.kt)("p",null,"In the case where you faced the same thing, you can reformat the SD card with the following configs:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"File System Type: ",(0,o.kt)("strong",{parentName:"li"},"MS-DOS(FAT-32)")),(0,o.kt)("li",{parentName:"ul"},"Partition Scheme: ",(0,o.kt)("strong",{parentName:"li"},"Master Boot Record(MBR)"))),(0,o.kt)(i.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"win",label:"Windows",default:!0,mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",null,"Right click your SD-card"),(0,o.kt)("li",null,"Reformat"),(0,o.kt)("li",null,"Choose ",(0,o.kt)("b",null,"exFAT")," as File System"))),(0,o.kt)(l.Z,{value:"mac",label:"Mac",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",null,"Open ",(0,o.kt)("i",null,"Disk Utility")),(0,o.kt)("li",null,"Select the uninitialized disk corresponding to your SD-card"),(0,o.kt)("li",null,"Choose ",(0,o.kt)("b",null,"MS-DOS(FAT)")," as File System Type"),(0,o.kt)("li",null,"Choose ",(0,o.kt)("b",null,"Master Boot Record")," as Partition Scheme")))),(0,o.kt)("p",null,"I fired up the Imager again and gave it another shot. It didn't work so like every programmer I reformatted it again and tried to flash it again with the Imager. This time the progress bar went to up around ",(0,o.kt)("inlineCode",{parentName:"p"},"17%")," (previously it failed at ",(0,o.kt)("inlineCode",{parentName:"p"},"3%"),"), so I was rather hopeful, but after a celebratory trip to the water cooler, the same error popped up when I came back."),(0,o.kt)("p",null,"Perhaps it was a problem with the Imager so I tried to flash it manually. (you can get a comprehensive guide on how to do that ",(0,o.kt)("a",{parentName:"p",href:"https://www.raspberrypi.com/documentation/computers/getting-started.html#installing-images-on-mac-os"},"here"),") The process ended up with no errors and after doing a sanity check to see if I have actually got data onto the disk (SD-card), I thought it worked."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"kernel panic-not syncing: VFS: unable to mount root fs on unknown-block(179,2)\n")),(0,o.kt)("p",null,"While booting up, the kernel panicked and so did I. To put it simply, the error had something to do with the kernel not being able to pick up the right partition of the file system. Followed some fixes but after rounds of reformatting and flashing, it still didn't seem to work."),(0,o.kt)("p",null,"At this point you are probably expecting I found a fix... well technically I did but it was more of avoiding this specific problem. I went back to my old ",(0,o.kt)("inlineCode",{parentName:"p"},"win")," PC and did the whole process again. "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"It worked.")),(0,o.kt)("p",null,"I will probably find some time in the future to look more this but I guess the journey that a RPI Imager crashing in the middle of flashing took me on made me appreciate ",(0,o.kt)("inlineCode",{parentName:"p"},"win")," more for its convenience and got me disappointed at engineers' lack of effort to support M1 hardware even after more than a year since its launch."))}f.isMDXComponent=!0}}]);